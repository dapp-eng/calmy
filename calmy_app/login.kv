<LoginScreen>:
    name: "login"
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1

        MDCard:
            size_hint: None, None
            size: "450dp", "615dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 10
            theme_bg_color: "Custom"
            md_bg_color: (0.125, 0.227, 0.290, 1)
            padding: "5dp"
            orientation: "vertical"
            focus_color: (0.125, 0.227, 0.290, 0)
            unfocus_color: (0.125, 0.227, 0.290, 1)
            
            RelativeLayout:

                MDButton:
                    style: "filled"
                    pos_hint: {"center_x": 0.13, "center_y": 0.96}
                    theme_bg_color: "Custom"
                    md_bg_color: (0.125, 0.227, 0.290, 1)
                    size_hint_x: 1
                    on_release:
                        app.change_screen("welcome", "fade")

                    MDButtonIcon:
                        icon: "chevron-left"
                        theme_icon_color: "Custom"
                        icon_color: (1, 1, 1, 1)

                    MDButtonText:
                        text: "BACK"
                        theme_text_color: "Custom"
                        theme_font_size: "Custom"
                        font_size: "18sp"
                        text_color: (1, 1, 1, 1)
                        theme_font_name: "Custom"
                        font_name: "Poppins-Medium"

                MDLabel:
                    text: "- L O G I N -"
                    pos_hint: {"center_x": .5, "center_y": .87}
                    theme_text_color: "Custom"
                    text_color: (1, 1, 1, 1)
                    theme_font_name: "Custom"
                    theme_font_size: "Custom"
                    font_size: "40sp"
                    font_name: "Poppins-Bold"
                    halign: "center"
                
                Image:
                    source: app.resource_path("assets/jlogo.png")
                    size_hint: .25, .25
                    pos_hint: {"center_x": .5, "center_y": .72}

                MDLabel:
                    text: "Welcome Back!"
                    pos_hint: {"center_x": .5, "center_y": .58}
                    theme_text_color: "Custom"
                    text_color: (1, 1, 1, 1)
                    theme_font_name: "Custom"
                    theme_font_size: "Custom"
                    font_size: "20sp"
                    font_name: "Poppins-SemiBold"
                    halign: "center"

                MDTextField:
                    id: user
                    mode: "outlined"
                    size_hint_x: None
                    width: "400dp"
                    pos_hint: {"center_x": .5, "center_y": .47}
                    theme_text_color: "Custom"
                    text_color_normal: (1, 1, 1, 1)
                    text_color_focus: (1, 1, 1, 1)
                    theme_line_color: "Custom"
                    line_color_normal: (1, 1, 1, 0.6)
                    line_color_focus: (1, 1, 1, 1)
                    error_color: "FF0000FF"
                    on_text: root.clear_error()

                    MDTextFieldTrailingIcon:
                        icon: "account"
                        theme_icon_color: "Custom"
                        icon_color_normal: (1, 1, 1, 1)
                        icon_color_focus: (1, 1, 1, 1)

                    MDTextFieldHintText:
                        text: "Masukkan Username"
                        text_color_normal: (1, 1, 1, 0.8)
                        text_color_focus: (1, 1, 1, 1)

                    MDTextFieldHelperText:
                        text: "Username tidak valid!"
                        mode: "on_error"
                        theme_text_color: "Custom"
                        text_color: (0.125, 0.227, 0.290, 1)

                    MDTextFieldMaxLengthText:
                        max_text_length: 10
                        text_color_normal: (1, 1, 1, 0.5)
                        text_color_focus: (1, 1, 1, 0.5)
                
                MDTextField:
                    id: passw
                    password: True
                    mode: "outlined"
                    size_hint_x: None
                    width: "400dp"
                    pos_hint: {"center_x": .5, "center_y": .32}
                    theme_text_color: "Custom"
                    text_color_normal: (1, 1, 1, 1)
                    text_color_focus: (1, 1, 1, 1)
                    theme_line_color: "Custom"
                    line_color_normal: (1, 1, 1, 0.6)
                    line_color_focus: (1, 1, 1, 1)
                    error_color: "FF0000FF"
                    on_text: root.clear_error()

                    MDTextFieldTrailingIcon:
                        icon: "key"
                        theme_icon_color: "Custom"
                        icon_color_normal: (1, 1, 1, 1)
                        icon_color_focus: (1, 1, 1, 1)

                    MDTextFieldHintText:
                        text: "Masukkan Password"
                        text_color_normal: (1, 1, 1, 0.8)
                        text_color_focus: (1, 1, 1, 1)
                    
                    MDTextFieldHelperText:
                        text: "Password tidak valid!"
                        mode: "on_error"
                        theme_text_color: "Custom"
                        text_color: (0.125, 0.227, 0.290, 1)
                
                MDCheckbox:
                    size_hint: None, None
                    size: "25dp", "25dp"
                    pos_hint: {"center_x": 0.935, "center_y": .24}
                    color_active: (1, 1, 1, 1)
                    color_inactive: (1, 1, 1, 0.7)
                    on_active: root.show_password()
                
                MDLabel:
                    id: password_label
                    text: "Show password"
                    theme_text_color: "Custom"
                    text_color: (1, 1, 1, 0.8)
                    theme_font_name: "Custom"
                    font_name: "Poppins-Regular"
                    theme_font_size: "Custom"
                    font_size: "15sp"
                    pos_hint: {"center_x": 0.385, "center_y": .237}
                    halign: "right"

                MDLabel:
                    id: error_label
                    text: ""
                    theme_font_name: "Custom"
                    font_name: "Poppins-Medium"
                    theme_font_size: "Custom"
                    font_size: "15sp"
                    pos_hint: {"center_x": .5, "center_y": .17}
                    theme_text_color: "Custom"
                    text_color: (1, 0, 0, 1)
                    halign: "center"

                MDButton:
                    style: "filled"
                    pos_hint: {"center_x": .5, "center_y": .10}
                    theme_bg_color: "Custom"
                    md_bg_color: (1, 1, 1, 1)
                    size_hint: None, None
                    size: 150, 50
                    theme_width: "Custom"
                    on_release:
                        root.validate_login()

                    MDButtonText:
                        text: "LOG IN"
                        theme_text_color: "Custom"
                        text_color: (0.125, 0.227, 0.290, 1)
                        theme_font_name: "Custom"
                        theme_font_size: "Custom"
                        font_size: "16sp"
                        font_name: "Poppins-SemiBold"
                        halign: "center"
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDCircularProgressIndicator:
                    id: spinner
                    color: (1, 1, 1, 1)
                    mode: "indeterminate"
                    pos_hint: {"center_x": .5, "center_y": .35}
                    size_hint: None, None
                    size: dp(26), dp(26)
                    opacity: 0